# English version

## The least squares method

Let's say we want to determine the equation of the linear regression model. It would be wise to think that we should have an equation that minimizes errors.
 
 The most common method for determining the best equation to represent the predictions is the least squares method, in which we minimize the sum of squared errors: $e_1^2 + e_2^2 + \dots + e_n^2$.

 > [!NOTE]
> As explained in [1.General_representation_of_linear_regression.md](./1.General_representation_of_linear_regression.md), the error $e_i$ represents the difference between the observed value $y_i$ and the predicted value $\hat{y}$: $e = y - \hat{y}_i$.

Therefore, more formally, the equation can be represented as:
$$S = \sum_{i=1}^{N} (y_i - \hat{y}_i)^2$$

Here:
* $y_i$ represents the observed value of the dependent variable for each observation $i$;
* $\hat{y}_i$ represents the value estimated by the model;
* $S$ is the total sum of squared residuals, which we want to minimize;
* $N$ is the total number of observations.
 
 > [!IMPORTANT]
 > Think about why we minimize the squared errors instead of simply minimizing the sum of the errors ($|e_1| + |e_2| + \dots + |e_n|$).
 <details>
   <summary>Click to see the answer</summary>
   One reason is that squaring the errors makes bigger ones count more, helping the model focus on fixing those larger errors and giving a better overall fit to the data 
 </details>

### Using the least squares method for simple linear regression

As mentioned in [1.General_representation_of_linear_regression.md](./1.General_representation_of_linear_regression.md), the estimated value can be expressed using the equation of the regression line: $\hat{y} = \beta_0 + \beta_1 x_1$. By substituting this equation into the error expression, the result is:

$$
e = y - (\beta_0 + \beta_1 x_1)
$$

Therefore, the general equation for the sum of squared residuals is expressed as:

$$ S = \sum_{i=1}^{N} (y - [\beta_0 + \beta_1 x_1])^2 $$

To determine the values of $\beta_0$ and $\beta_0$, partial derivatives are taken with respect to each parameter and set to zero. The partial derivative with respect to $\beta_0$ is:

$$
\frac{\partial S}{\partial B_0} = -2 \sum_{i=1}^{N} (y_i - \beta_0 - \beta_1 x_i) = 0
$$

Solving for $\beta_0$, the equation simplifies to: $\hat{\beta}_0 = \bar{Y} - \hat{\beta}_1\bar{X}$, where **$(\bar{Y})$** is the mean of the observed values of the dependent variable ($y$) and **$(\bar{X})$** is the mean of the values of the independent variable ($x$). For $\beta_1$, the partial derivative is given by:

$$
\frac{\partial S}{\partial \beta_1} = -2 \sum_{i=1}^{N} (y_i - \beta_0 - \beta_1 x_i) x_i = 0
$$

Rearranging the equation leads to:

$$
\hat{\beta_1} = \frac{\sum_{i = 1}^{N} (x_i â€“ \bar{x} ) ( y_i â€“ \bar{y} )}{\sum_{i = 1}^{N} ( x_i - \bar{x} )^2}
$$

> For multiple linear regression, the least squares method is also used. However, the final equation is expressed in matrix form as:
> $\hat{B} = (X^TX)^{-1}X^TE$
> Here:
> * $X$ is a matrix containing the independent variables;
> * $E$ is the vector with the dependent variable values;
> * $\hat{B}$ is the vector with the coefficients we want (values of $A$, $B$, etc.).
> * 

## References
Universidade Federal do Rio Grande do Sul. (n.d.). Probabilidade e EstatÃ­stica. Retrieved March 30, 2025, from https://www.ufrgs.br/probabilidade-estatistica/livro/livro_completo/ch7-reg-simples.html

HASTIE, Trevor; TIBSHIRANI, Robert; FRIEDMAN, Jerome. An introduction to statistical learning. 2009.

## Where am I?

```text
RepoAI/
â””â”€â”€ Linear Regression/
    â”œâ”€â”€ 1.Concepts/
    â”‚   â””â”€â”€ 1.History.md
    |   â””â”€â”€ 2.Typical_problems.md
    |   â””â”€â”€ 3.Potential_issues.md
    |   â””â”€â”€ 4.Model_assumptions.md
    |   â””â”€â”€ 5.Fields_of_use.md
    â”œâ”€â”€ 2.Code/
    |   â””â”€â”€ Figures/
    |   â””â”€â”€ 1.Dive_into_the_docs.md  
    |   â””â”€â”€ 2.Boston_housing_price_reg.md
    |   â””â”€â”€ 3.Student_study_hours_prediction.md
    â””â”€â”€ 3.Mathematics/
    |   â””â”€â”€ Figures/
    |   â””â”€â”€ 1.General_representation_of_linear_regression.md 
    |   â””â”€â”€ 2.The_least_square_method.md <---- You are here!! 
    |   â””â”€â”€ 3.Equation_based_on_dataset.md   
```

## ðŸ‘¾ **Contributors**  
| [<img loading="lazy" src="https://avatars.githubusercontent.com/u/160762179?v=4" width=115><br><sub>Maria Eduarda Vianna</sub>](https://github.com/mevianna) |  [<img loading="lazy" src="https://avatars.githubusercontent.com/u/197432407?v=4" width=115><br><sub>Beatriz Schuelter Tartare</sub>](https://github.com/beastartare) | [<img loading="lazy" src="https://avatars.githubusercontent.com/u/178849007?v=4" width=115><br><sub>Rafaela Savaris</sub>](https://github.com/rafasavaris) | [<img loading="lazy" src="https://avatars.githubusercontent.com/u/105316221?v=4" width=115><br><sub>VinÃ­cius Muchulski</sub>](https://github.com/vini-muchulski) | 
| :---: | :---: | :---: | :---: |

# Portuguese version

## O mÃ©todo dos mÃ­nimos quadrados

Digamos que a gente queira determinar a equaÃ§Ã£o do modelo de regressÃ£o linear. Seria interessante pensarmos em termos uma equaÃ§Ã£o que minimize erros.

O mÃ©todo mais comum para determinÃ¡-la Ã© o dos mÃ­nimos quadrados, em que minimizamos a soma do quadrado dos erros: $e_1^2 + e_2^2 + \dots + e_n^2$.

 > [!NOTE]
> Como explicado em [1.General_representation_of_linear_regression.md](./1.General_representation_of_linear_regression.md), o erro $e_i$ representa a diferenÃ§a entre o valor observado $y_i$ e o valor previsto $\hat{y}$: $e = y - \hat{y}_i$.

Portanto, mais formalmente, a equaÃ§Ã£o pode ser representada da seguinte maneira:
$$S = \sum_{i=1}^{N} (y_i - \hat{y}_i)^2$$

Aqui:
* $y_i$ representa o valor observado de cada variÃ¡vel dependente para cada observaÃ§Ã£o $i$;
* $\hat{y}_i$ representa o valor estimado pelo modelo;
* $S$ Ã© a soma total dos erros ao quadrado, a qual queremos minimizar;
* $N$ Ã© o nÃºmero total de observaÃ§Ãµes.
 
 > [!IMPORTANT]
 > Pense no motivo pelo qual queremos minimizar os erros quadrÃ¡ticos em vez de simplesmente minimizarmos a soma dos erros ($|e_1| + |e_2| + \dots + |e_n|$).
 <details>
   <summary>Click to see the answer</summary>
   Um dos motivos Ã© que elevar os erros ao quadrado faz com que os maiores tenham mais peso, ajudando o modelo a focar na correÃ§Ã£o desses erros maiores e proporcionando um ajuste geral melhor aos dados.
 </details>

### Usando o mÃ©todo dos mÃ­nimos quadrados para regressÃ£o linear simples

Como mencionado em [1.General_representation_of_linear_regression.md](./1.General_representation_of_linear_regression.md), o valor estimado pode ser estimado utilizando a equaÃ§Ã£o da regressÃ£o linear: $\hat{y} = \beta_0 + \beta_1 x_1$. Substituindo-a na expressÃ£o que calcula o erro, temos:

$$
e = y - (\beta_0 + \beta_1 x_1)
$$

Portanto, a equaÃ§Ã£o geral para a soma dos mÃ­nimos quadrados Ã©:

$$ S = \sum_{i=1}^{N} (y - [\beta_0 + \beta_1 x_1])^2 $$

Para determinar os valores de $\beta_0$ e $\beta_0$, sÃ£o tomadas as derivadas parciais em relaÃ§Ã£o a cada parÃ¢metro e igualadas a zero. A derivada parcial em relaÃ§Ã£o a $\beta_0$ Ã©:

$$
\frac{\partial S}{\partial B_0} = -2 \sum_{i=1}^{N} (y_i - \beta_0 - \beta_1 x_i) = 0
$$

Resolvendo para $\beta_0$, a equaÃ§Ã£o se simplifica para: $\hat{\beta}_0 = \bar{Y} - \hat{\beta}_1\bar{X}$, onde **$(\bar{Y})$** Ã© a mÃ©dia dos valores observados da variÃ¡vel dependente ($y$) e **$(\bar{X})$** Ã© mÃ©dia dos valores da variÃ¡vel independente ($x$). JÃ¡ para $\beta_1$, a derivada parcial Ã© dada por:

$$
\frac{\partial S}{\partial \beta_1} = -2 \sum_{i=1}^{N} (y_i - \beta_0 - \beta_1 x_i) x_i = 0
$$

Rearranjando a equaÃ§Ã£o, obtÃ©m-se: 

$$
\hat{\beta_1} = \frac{\sum_{i = 1}^{N} (x_i â€“ \bar{x} ) ( y_i â€“ \bar{y} )}{\sum_{i = 1}^{N} ( x_i - \bar{x} )^2}
$$

> Para regressÃ£o linear mÃºltipla, o mÃ©todo dos mÃ­nimos quadrados tambÃ©m Ã© utilizado. No entanto, a equaÃ§Ã£o final pode ser expressada de forma matricial:
> $\hat{B} = (X^TX)^{-1}X^TE$
> Here:
> * $X$ Ã© a matriz contendo as variÃ¡veis independentes;
> * $E$ Ã© o vetor com os valores das variÃ¡veis dependentes;
> * $\hat{B}$ Ã© o vetor com os coeficientes que queremos (valores de $A$, $B$, etc.).

## Referencias
Universidade Federal do Rio Grande do Sul. (n.d.). Probabilidade e EstatÃ­stica. Retrieved March 30, 2025, from https://www.ufrgs.br/probabilidade-estatistica/livro/livro_completo/ch7-reg-simples.html

HASTIE, Trevor; TIBSHIRANI, Robert; FRIEDMAN, Jerome. An introduction to statistical learning. 2009.

## Onde estou?

```text
RepoAI/
â””â”€â”€ Linear Regression/
    â”œâ”€â”€ 1.Concepts/
    â”‚   â””â”€â”€ 1.History.md
    |   â””â”€â”€ 2.Typical_problems.md
    |   â””â”€â”€ 3.Potential_issues.md
    |   â””â”€â”€ 4.Model_assumptions.md
    |   â””â”€â”€ 5.Fields_of_use.md
    â”œâ”€â”€ 2.Code/
    |   â””â”€â”€ Figures/
    |   â””â”€â”€ 1.Dive_into_the_docs.md  
    |   â””â”€â”€ 2.Boston_housing_price_reg.md
    |   â””â”€â”€ 3.Student_study_hours_prediction.md
    â””â”€â”€ 3.Mathematics/
    |   â””â”€â”€ Figures/
    |   â””â”€â”€ 1.General_representation_of_linear_regression.md 
    |   â””â”€â”€ 2.The_least_square_method.md <---- VocÃª estÃ¡ aqui!! 
    |   â””â”€â”€ 3.Equation_based_on_dataset.md   
```

## ðŸ‘¾ **Contribuidores**  
| [<img loading="lazy" src="https://avatars.githubusercontent.com/u/160762179?v=4" width=115><br><sub>Maria Eduarda Vianna</sub>](https://github.com/mevianna) |  [<img loading="lazy" src="https://avatars.githubusercontent.com/u/197432407?v=4" width=115><br><sub>Beatriz Schuelter Tartare</sub>](https://github.com/beastartare) | [<img loading="lazy" src="https://avatars.githubusercontent.com/u/178849007?v=4" width=115><br><sub>Rafaela Savaris</sub>](https://github.com/rafasavaris) | [<img loading="lazy" src="https://avatars.githubusercontent.com/u/105316221?v=4" width=115><br><sub>VinÃ­cius Muchulski</sub>](https://github.com/vini-muchulski) | 
| :---: | :---: | :---: | :---: |
